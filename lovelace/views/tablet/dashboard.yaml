title: Home
path: tablet/home
icon: 'mdi:home'
panel: true

cards:
  - type: picture-elements
    image: /local/images/background.png

    style:
      .: |
        /* Global */
        #root > hui-icon-element {color: rgba(255, 255, 255, 0.1) !important; transition: 0.4s;}
        #root > hui-icon-element:hover {color: rgba(255, 255, 255, 0.25) !important; transition: none;}
        #root > hui-icon-element:active {color: rgba(255, 255, 255, 0.35) !important; transition: none;}
      "#root > hui-image":
        $: |
          #image {pointer-events: none;}
      "#root > hui-markdown-card, #root > hui-element > hui-markdown-card":
        $: |
          ha-card > ha-markdown {padding: 0 !important;}
          ha-card > ha-markdown > p > font > ha-icon {vertical-align: 3%; opacity: 0.6;}
          ha-card > ha-markdown > p > span {font-family: SF Text; font-size: 5vw; 
          font-weight: 200; margin-left: -0.3vw; letter-spacing: -0.05vw;}
      "#root > hui-state-label-element":
        $: |
          div {padding: 0 !important;}
      "#root > hui-conditional-element:nth-child(11) > button-card":
        $: |
          #card { background-color: #202a2f90; }
          #card:hover, #card:active { filter: brightness(140%); transition: none; }

    elements:

      #################################################
      #                                               #
      #                   COVID-19                    #
      #                                               #
      #################################################

      - type: custom:hui-markdown-card
        style:
          top: 93.5%
          left: 70.2%
          width: 60vw
          height: 1px
          --mdc-icon-size: 1.2vw
          --ha-card-background: none
          --ha-card-box-shadow: none
          --primary-text-color: '#6a7377'
          font-family: SF Display
          font-size: 1.15vw
          font-weight: 400
          letter-spacing: 0.06vw
          line-height: 2.05vw
          opacity: 0.5
        content: >
          {% if is_state('sensor.germany_coronavirus_current', 
          'unavailable') %} {% else %}
          <font color='#6a7377'>
          <ha-icon icon="custom:corona-virus"></ha-icon> <b>Coronavirus</b>
          ‍  ‍  ‍   ‍  ‍  ‍ <font color='#2f3436'>|‍</font>  ‍  ‍  ‍   ‍  ‍  ‍ 
          <ha-icon icon="mdi:emoticon-sad"></ha-icon> 
          <b>{{ states('sensor.germany_coronavirus_current') }}</b> Gesamt
          ‍  ‍  ‍   ‍  ‍  ‍ <font color='#2f3436'>|‍</font>  ‍  ‍  ‍   ‍  ‍  ‍ 
          <ha-icon icon="mdi:chart-bar"></ha-icon> 
          <b>{{ ((states('sensor.germany_coronavirus_confirmed')
          | int / 83149300 ) * 100) | round(2) }}%</b> von Deutschland
          ‍  ‍  ‍   ‍  ‍  ‍ <font color='#2f3436'>|‍</font>  ‍  ‍  ‍   ‍  ‍  ‍ 
          <ha-icon icon="mdi:emoticon-happy"></ha-icon> 
          <b>{{ states('sensor.germany_coronavirus_recovered') }}</b> Genesen
          ‍  ‍  ‍   ‍  ‍  ‍ <font color='#2f3436'>|‍</font>  ‍  ‍  ‍   ‍  ‍  ‍ 
          <ha-icon icon="mdi:grave-stone"></ha-icon> 
          <b>{{ states('sensor.germany_coronavirus_deaths') }}</b> Verstorben
          </font>
          {% endif %}

      ##########################################################################
      #                                                                        #
      #                              * SIDEBAR *                               #
      #                                                                        #
      ##########################################################################

      - type: image
        image: local/images/sidebar.png
        tap_action:
          action: none
        hold_action:
          action: none
        style:
          top: 50%
          left: 10.6%
          width: 21.5%
          pointer-events: none
          border-right: 1.5px solid rgba(58,69,73,0.2)

      #################################################
      #                                               #
      #                   MARKDOWN                    #
      #                                               #
      #################################################

      - type: custom:hui-element
        card_type: markdown
        style:
          top: 9%
          left: 11.1%
          width: 15.5vw
          height: 1px
          --ha-card-background: none
          --ha-card-box-shadow: none
          --primary-text-color: rgba(255, 255, 255, 0.9)
          font-family: SF Display
          font-size: 1.5vw
          font-weight: 300
          letter-spacing: 0.06vw
          line-height: 2.05vw
          opacity: 0.75
        content: >
          <span>{{ states('sensor.time') }}</span>

          <font color='#6a7377'><b>{{ states('sensor.wochentag') }}</b><br>
          <b>{{ states('sensor.monat') }}</b> </font><br> 
          </font>

      #################################################
      #                                               #
      #                  INFO BUTTON                  #
      #                                               #
      #################################################

      - type: icon
        icon: mdi:information-outline
        title: Information
        style:
          top: 87.41%
          left: 10.7%
          color: rgba(255, 255, 255, 0.10)
          padding: 0.8vw
          --mdc-icon-size: 4vw
        tap_action: !include popup/sidebar_information.yaml

      - type: conditional
        conditions:
          - entity: sensor.hass_version_template
            state_not: neueste
          - entity: sensor.hass_version_template
            state_not: unknown
        elements:
          - type: image
            image: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 50 50'%3E%3Ccircle cx='25' cy='25' r='20.3' fill='%23ac2e2e' /%3E%3Cpath d='M24.4 18.3h0L19 21.9v-3.4l5.3-3.7H28v20.4h-3.6V18.3z' fill='%23bcbebf' /%3E%3C/svg%3E"
            style:
              top: 85%
              left: 12.2%
              width: 1.7%
              pointer-events: none

      #################################################
      #                                               #
      #                 CAR BUTTON                 #
      #                                               #
      #################################################

      - type: icon
        icon: mdi:car
        title: Auto
        style:
          top: 87.55%
          left: 16.55%
          color: rgba(255, 255, 255, 0.10)
          padding: 0.8vw
          --mdc-icon-size: 4.6vw
        tap_action: !include popup/sidebar_car.yaml

      #################################################
      #                                               #
      #                  HACS SENSOR                  #
      #                                               #
      #################################################

      - type: conditional
        conditions:
          - entity: sensor.hacs
            state_not: '0'
          - entity: sensor.hacs
            state_not: unknown
        elements:
          - type: custom:button-card
            style:
              top: 95%
              left: 10.45%
            name: >
              [[[ if (parseInt(states['sensor.hacs'].state) === 1) {
              return states['sensor.hacs'].state + ' Update verfügbar'; }
              else { return states['sensor.hacs'].state + ' Updates verfügbar'; } ]]]
            styles:
              name:
                [letter-spacing: 0.06vw, font-family: SF Display, font-weight: 500, 
                font-size: 1.15vw, color: '#6a7377', padding: 0.4vw 1.2vw 0.4vw 1.2vw]
              card:
                [background: '#202a2f90', border-radius: 0.7vw, opacity: 0.5]
            tap_action:
              action: call-service
              service: browser_mod.popup
              service_data:
                title: Schließen
                deviceID: this
                style:
                  background: none
                  box-shadow: none
                  width: 75em
                card:
                  type: custom:hui-element
                  card_type: iframe
                  url: !secret external_url
                  aspect_ratio: 60%
                  style: 'ha-card { border-radius: 1em;}'

      ##########################################################################
      #                                                                        #
      #                             * Wohnzimmer *                             #
      #                                                                        #
      ##########################################################################

      - prefix: Wohnzimmer
        <<: *title
        style:
          top: 9.15%
          left: 25.4%
          <<: *title-style

      #################################################
      #                                               #
      #                   BELYSNING                   #
      #                                               #
      #################################################

      - type: custom:button-card
        entity: switch.diningroom
        style:
          top: 20.35%
          left: 30.31%
          width: 10%
        custom_fields:
          icon_hue: &icon_hue >
            [[[ const state = entity.state === 'on' ? 'animate' : null;
            return `<svg viewBox="0 0 50 50"><style>@keyframes animate{0%{transform: scale(0.85);}20%{transform: scale(1.1);}40%{transform: scale(0.95);}60%{transform: scale(1.03);}80%{transform: scale(0.97);}100%{transform: scale(1);}}.animate{animation: animate 0.8s; transform-origin: center;}</style>
            <path fill="#9da0a2" d="M27.4 47.3h-4.9s-.7.1-.7.8.4.9.7.9h4.9c.3 0 .7-.1.7-.9s-.7-.8-.7-.8zm3.3-2.9H19.3s-.8 0-.8.8.6.9.8.9h11.5c.2 0 .8-.1.8-.9-.1-.8-.9-.8-.9-.8zm0-3H19.3s-.8 0-.8.8.6.9.8.9h11.5c.2 0 .8-.1.8-.9-.1-.8-.9-.8-.9-.8zm0-2.9H19.3s-.8 0-.8.8.6.9.8.9h11.5c.2 0 .8-.1.8-.9s-.9-.8-.9-.8zm5.2-23.2c-3.3-5.3-7-5.6-10.9-5.6-3.8 0-8.4.4-10.9 5.6-.1.1-.1.3.1.7.4.8 3.3 7.2 3.2 18.8 0 1.1-.1 1.6 0 1.7 0 .1 0 .7 1.1.7h13c1 0 1-.5 1.1-.7v-1.7c-.1-11.6 2.8-18 3.2-18.8.1-.4.1-.5.1-.7"/>
            <path class="${state}" fill="var(--button-card-light-color-no-temperature)" d="M14.1 15.3c3.4-.3 7-.4 10.9-.4 3.8 0 7.5.2 10.9.4.4-.4.7-.8.9-1.1C39 8.5 38.9 6.5 38.9 6c-.2-4.4-8.4-5-12.1-5h0-3.4c-3.7 0-12 .5-12.1 5 0 .5-.1 2.5 2.1 8.2 0 .3.3.8.7 1.1z"/></svg>`; ]]]
        styles: &icon_hue_styles
          custom_fields:
            icon_hue:
              [top: 11%, left: 4.5%, width: 3.05vw, position: absolute]
        template: switch




      ##########################################################################
      #                                                                        #
      #                               * MEDIA *                                #
      #                                                                        #
      ##########################################################################

      # - prefix: Media
      #   <<: *title
      #   style:
      #     top: 53.4%
      #     left: 25.4%
      #     <<: *title-style

      - type: custom:swipe-card
        start_card: 1
        parameters:
          roundLengths: true
          effect: coverflow
          speed: 650
          spaceBetween: 20
          threshold: 7
          coverflowEffect:
            rotate: 80
            depth: 300
        style:
          top: 56.55%
          left: 35.8%
          width: 20.97%
          height: 1px
          --ha-card-background: none
          --ha-card-border-radius: .88vw
          --ha-card-box-shadow: none
          image-rendering: crisp-edges
        cards:

        - type: picture-elements
          image: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 50 50' /%3E"
          elements:

            # #################################################
            # #                                               #
            # #              RECENTLY DOWNLOADED              #
            # #                                               #
            # #################################################

            # - type: conditional
            #   conditions:
            #     - entity: input_select.conditional_media
            #       state: Senast nedladdat
            #   elements:
            #     - type: custom:button-card
            #       entity: sensor.placeholder
            #       triggers_update:
            #         ['sensor.plex_title', 'sensor.plex_poster']
            #       name: Senast nedladdat
            #       state_display: >
            #         [[[ return states['sensor.plex_title'].state; ]]]
            #       custom_fields:
            #         icon: >
            #           <svg viewBox="0 0 50 50"><path d="M7.7.3h34.6c4.1 0 7.4 3.3 7.4 7.4v34.6c0 4.1-3.3 7.4-7.4 7.4H7.7c-4.1 0-7.4-3.3-7.4-7.4V7.7C.3 3.6 3.6.3 7.7.3z" fill="#282a2d"/><path d="M25,7.1H14.6L25,25L14.6,42.9H25L35.4,25L25,7.1z" fill="#e5a00d"/></svg>
            #         blur: >
            #           <svg viewBox="0 0 50 50" />
            #       styles:
            #         custom_fields:
            #           media_image: &plex_poster
            #             [background-position: center center, background-image: 
            #             "[[[ return 'url(' + states['sensor.plex_poster'].state + ')'; ]]]"]
            #           blur: *plex_poster
            #           overlay: [background: 'rgba(0, 0, 0, 0.4)']
            #         card:
            #           [color: '#efefef', text-shadow: '1px 1px 5px rgba(18, 22, 23, 0.9)']
            #       tap_action:
            #         action: none
            #       style:
            #         top: 50%
            #         left: 50%
            #         width: 100%
            #       template: media

            #################################################
            #                                               #
            #              Spotify                          #
            #                                               #
            #################################################

            - type: conditional
              conditions:
                - entity: input_select.conditional_media
                  state: Spotify strehlma
              elements:
                - type: custom:button-card
                  entity: media_player.spotify_strehlma
                  custom_fields:
                    icon: &icon_apple_tv >
                      <svg viewBox="0 0 50 50"><path d="M25.2 49.7l-13.7-.1c-2.4 0-4.6-.8-6.5-2.2-2-1.6-3.6-3.6-4.3-6.2-.2-1-.2-1.9-.3-3V11.5C.5 7.9 1.9 5 4.8 2.7 6.2 1.6 7.8.8 9.6.5c.5-.1.9-.1 1.4-.1L27.5.3l10.9.1c2.6 0 4.8.8 6.7 2.4 2.1 1.7 3.7 3.9 4.2 6.6l.2 2.4.1 20.5-.1 6.7c-.1 2.2-.9 4.2-2.2 5.9-1.7 2.2-4 3.8-6.8 4.4-.6.1-1.2.2-1.9.2-.1.1-13.4.2-13.4.2zm-4-27.8c-.9-1.2-2.2-1.6-3.7-1.2-.4.1-.8.2-1.2.4-.3.1-.6.1-.8 0-.4-.1-.8-.3-1.2-.4-.3-.1-.7-.1-1-.1-1.5.2-2.4 1.1-3 2.6-.4 1.1-.3 2.2 0 3.5.4 1.5 1 2.9 2.1 4 .5.6 1.2.9 2 .6 1.1-.5 2.2-.5 3.4 0 .8.3 1.5 0 2.1-.6.7-.8 1.1-1.8 1.6-2.8v-.2c-1-.6-1.7-1.4-1.8-2.7-.2-1.4.5-2.4 1.5-3.1zm9.9-1.4c.1.2.1.3.1.4l3.6 9.5c.1.3.3.4.6.4h.7c.6 0 .6 0 .9-.6l3.7-9.4c.1-.1.1-.3.2-.5H39l-2.9 8.3-3.1-8.3-1.9.2zM27.3 18l-1.3.4c-.5.2-.5.2-.6.7v1.4h-1.6l.1 1.4h1.5v5c0 .7.1 1.4.2 2.1.1.5.3 1 .8 1.4.8.6 2.6.7 3.5.2l-.1-1.2h-1.3c-.5 0-.9-.3-1-.8-.1-.3-.2-.6-.2-1v-5.8H30c0-.5.1-1 0-1.4h-2.7V18zm-8.8-.9c-1.9.3-3 2-2.7 3.2 1.4.2 2.9-1.7 2.7-3.2z"/></svg>
                  style:
                    top: 50%
                    left: 50%
                    width: 100%
                  template: media

            #################################################
            #                                               #
            #                Denon DNP-800                  #
            #                                               #
            #################################################

            - type: conditional
              conditions:
                - entity: input_select.conditional_media
                  state: Denon DNP-800NE
              elements:
                - type: custom:button-card
                  entity: media_player.denon_dnp_800ne
                  custom_fields:
                    icon: *icon_apple_tv
                  style:
                    top: 50%
                    left: 50%
                    width: 100%
                  template: media

            #################################################
            #                                               #
            #                 Soundtouch Küche              #
            #                                               #
            #################################################

            - type: conditional
              conditions:
                - entity: input_select.conditional_media
                  state: Soundtouch Küche
              elements:
                - type: custom:button-card
                  entity: media_player.soundtouch_kuche
                  custom_fields:
                    icon: &icon_ps4 >
                      <svg viewBox="0 0 50 50"><path d="M.3 25C.3 11.3 11.4.3 25 .3 38.8.3 49.7 11.6 49.7 25c0 13.7-11.1 24.7-24.7 24.7C11.2 49.7.2 38.5.3 25zM26 35.4V16.8c0-.3.1-.6.4-.7.3-.2.6 0 .9.2.4.3.6.8.6 1.3v7.1c0 .5.1.7.6.8.3.1.5.2.8.2 1.7.4 3-.3 3.6-2 0-.1.1-.2.1-.3.3-1.1.4-2.1.3-3.2-.1-1.3-.5-2.5-1.3-3.5-.9-1.2-2.1-1.9-3.6-2.3l-6.8-2h-.3v20.8c0 .6 0 .6.6.8l3.4 1.2c.2.1.4.1.7.2h0zm1-.3c.2 0 .3-.1.4-.1l10.5-3.9c.6-.2 1-.6 1.5-1 .5-.5.5-1 0-1.5-.1-.2-.3-.3-.5-.4-.6-.5-1.3-.8-2-1-2.1-.6-4.3-.8-6.5-.5-1 .2-2 .5-3 .7-.3.1-.4.2-.4.6v2.2c0 .1.1.1.1.2.2-.1.4-.1.5-.2l4.6-1.6c.6-.2 1.2-.3 1.9-.3.3 0 .5 0 .7.1s.4.2.4.3-.2.3-.3.4c-.3.2-.5.3-.8.4l-3.2 1.2-3.5 1.3c-.4.1-.5.3-.5.7v2.4zM20.3 30c-.2.1-.3.1-.4.1l-1.7.6c-.7.2-1.4.4-2.1.4-.4 0-.7-.1-1-.2-.1 0-.3-.2-.3-.3s.1-.3.2-.3c.2-.1.5-.2.7-.3l4.2-1.6c.4-.1.5-.3.5-.7v-1.9c0-.1 0-.2-.1-.4-.2.1-.4.1-.5.2L13 28.1c-.7.3-1.4.7-2.1 1.1-.8.5-.8 1.3-.1 1.9.3.2.6.5.9.6 2.1.8 4.2 1.3 6.5 1.2.6 0 1.1-.1 1.6-.2.4-.1.5-.2.5-.6V30z" /></svg>
                  style:
                    top: 50%
                    left: 50%
                    width: 100%
                  template: media

            #################################################
            #                                               #
            #               Soundtouch Bad                  #
            #                                               #
            #################################################

            - type: conditional
              conditions:
                - entity: input_select.conditional_media
                  state: Soundtouch Bad
              elements:
                - type: custom:button-card
                  entity: media_player.soundtouch_bad
                  custom_fields:
                    icon: &icon_nest_mini >
                      <svg viewBox="0 0 50 50"><path d="M49.7 25c0 13.6-11.1 24.7-24.8 24.7C11.3 49.7.3 38.6.3 25S11.4.3 25 .3 49.7 11.4 49.7 25zm-33.9 0a2.22 2.22 0 0 0-2.2-2.2c-1.2 0-2.3 1-2.3 2.2a2.22 2.22 0 0 0 2.2 2.2c1.3.1 2.3-.9 2.3-2.2h0zm10.8 0c0 1.2.9 2.2 2.2 2.3 1.3 0 2.3-1 2.3-2.2 0-1.3-1-2.3-2.2-2.3-1.3 0-2.3.9-2.3 2.2zm-3.2 0a2.22 2.22 0 0 0-2.2-2.2c-1.2 0-2.3 1-2.3 2.2a2.22 2.22 0 0 0 2.2 2.2c1.3 0 2.3-.9 2.3-2.2h0zm13 2.2a2.22 2.22 0 0 0 2.2-2.2c0-1.2-1-2.3-2.2-2.3a2.22 2.22 0 0 0-2.2 2.2c0 1.3 1 2.3 2.2 2.3z" /></svg>
                  style:
                    top: 50%
                    left: 50%
                    width: 100%
                  template: media

            #################################################
            #                                               #
            #           * SMALL MEDIA CONTROLS *            #
            #                                               #
            #################################################

        - type: picture-elements
          image: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 50 50' /%3E"
          elements:

            # Echo Büro
            - type: custom:button-card
              entity: media_player.echo_buro
              custom_fields:
                icon: mdi:amazon-alexa
              style:
                top: 23.9%
                left: 23.8%
                width: 47.7%
              template: media_small

            # Echo Küche
            - type: custom:button-card
              entity: media_player.echo_kuche
              custom_fields:
                icon: mdi:amazon-alexa
              style:
                top: 23.9%
                left: 76.2%
                width: 47.7%
              template: media_small

            # Echo Käthe
            - type: custom:button-card
              entity: media_player.echo_kathe
              name: Echo Käthe
              custom_fields:
                icon: mdi:amazon-alexa
              style:
                top: 76.2%
                left: 23.8%
                width: 47.7%
              template: media_small

            # SMALL GOOGLE NEST MINI
            # - type: custom:button-card
            #   entity: media_player.google_nest_mini
            #   name: Nest Mini
            #   custom_fields:
            #     icon: *icon_nest_mini
            #   style:
            #     top: 76.2%
            #     left: 76.2%
            #     width: 47.7%
            #   template: media_small
